(this["webpackJsonpreact-website-with-auth"]=this["webpackJsonpreact-website-with-auth"]||[]).push([[0],{44:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(21),i=n.n(c),s=(n(44),n(6)),o=n(0),u=function(){return Object(o.jsx)("div",{className:"menu",children:function(e){return e.map((function(e,t){return Object(o.jsx)("span",{children:Object(o.jsx)(s.b,{exact:!0,to:e.to,children:e.label})},t)}))}([{to:"/",label:"Home"},{to:"/products",label:"Products"},{to:"/about",label:"About"}])})},d=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"spacer"}),Object(o.jsx)("div",{className:"footer",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{className:"footer-text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do"})]})})]})},l=n(4),m=function(){return Object(o.jsx)("section",{className:"contentTitle",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"TITLE 1"})}),Object(o.jsx)("div",{className:"contentTitle-text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"button",children:"VIEW PRODUCTS"})})]})})},j=n(24),b="http://localhost:3001",f=function(e){var t=e.name,n=e.description,r=e.image;return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("div",{className:"card-logo",children:Object(o.jsx)("img",{src:"".concat(b,"/images/").concat(r),alt:"card-logo"})}),Object(o.jsx)("div",{className:"card-items",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"card-name",children:t}),Object(o.jsx)("div",{className:"card-description",children:n}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"button",children:"BUY NOW"})})]})})]})},O=n(5),p=n(8),h=n.n(p),v=n(14),g=n(15),x=n.n(g),A="FETCH_CARDS_INFO",N="CHANGE_EDIT_ITEM",I="GET_REGISTRATION_STATUS",w="AUTH_SUCCESS",T="AUTH_LOGOUT",S=function(){return function(){var e=Object(v.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(b,"/cardsinfo"));case 3:n=e.sent,t(y(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return{type:A,payload:e}},k=function(e){return{type:N,payload:e}};var D=Object(O.b)((function(e){return{cardsInfo:e.cards.cardsInfo}}),(function(e){return{getCardsInfo:function(){return e(S())}}}))((function(e){Object(r.useEffect)((function(){e.getCardsInfo()}),[]);var t=null;return e.cardsInfo&&(t=Object(j.a)(e.cardsInfo),e.isLimited&&(t=t.slice(0,4)),t=t.map((function(e,t){return Object(o.jsx)(f,{name:e.name,description:e.description,image:e.picture},t)}))),Object(o.jsx)("section",{className:"content",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{children:"OUR PRODUCTS"}),Object(o.jsx)("div",{className:"content-cards",children:t})]})})})),C=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m,{}),Object(o.jsx)(D,{isLimited:!0})]})},E=function(){return Object(o.jsx)("div",{className:"about",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{children:"ABOUT"}),Object(o.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})})},F=function(e){var t=e.username,n=e.isLogin;return Object(o.jsx)("div",{className:"header",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"header-logo",children:Object(o.jsx)("img",{src:"data:image/png;base64,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",alt:"logo"})}),n?Object(o.jsxs)("div",{className:"header-logged",children:[Object(o.jsx)("div",{className:"header-username",children:t}),Object(o.jsx)("div",{className:"header-login",children:Object(o.jsx)(s.b,{to:"/logout",exact:!0,children:"logout\u27b2"})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{className:"header-login",children:Object(o.jsx)(s.b,{to:"/login",exact:!0,children:"login\u27b2"})})]})]})})},B=n(16),P=n(2),U=n(38),L=n.n(U),V=function(e,t,n,r){var a=Object(P.a)({},n.formControls),c=Object(P.a)({},n.formControls[t]);c.value=e.target.value.trim(),c.valid=function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=L.a.email(e)&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}(c.value,c.validation),a[t]=c;var i=!0;Object.keys(a).forEach((function(e){i=a[e].valid&&i})),r(Object(P.a)(Object(P.a)({},n),{},{formControls:a,isFormValid:i}))},J=function(e,t){return Object.keys(e.formControls).map((function(n,r){var a=e.formControls[n];return Object(o.jsx)("div",{children:Object(o.jsx)("input",{maxLength:"30",type:a.type,value:a.value,name:a.name,placeholder:a.placeholder,onChange:function(r){return V(r,n,e,t)}},n+r)},n+r)}))},R=function(e,t,n,r){if(e.preventDefault(),t.isFormValid){r(new FormData(e.target));var a=Object(P.a)({},t.formControls);Object.keys(t.formControls).forEach((function(e){a[e].value="",a[e].valid=!1})),e.target.reset(),n(Object(P.a)(Object(P.a)({},t),{},{formControls:a,isFormValid:!1,formSubmitted:!0,message:""}))}else{var c=Object.keys(t.formControls).find((function(e){return!t.formControls[e].valid}));n(Object(P.a)(Object(P.a)({},t),{},{message:t.formControls[c].errorMessage}))}},W=function(e){return{type:I,payload:e}},X=function(e){return{type:w,token:e.token,username:e.username}};function M(e){return function(t){setTimeout((function(){t(G())}),e)}}function G(){return localStorage.removeItem("token"),localStorage.removeItem("userName"),localStorage.removeItem("expirationDate"),{type:T}}var Y=Object(O.b)((function(e){return{token:e.auth.token}}),(function(e){return{sendLoginForm:function(t){return e((n=t,function(){var e=Object(v.a)(h.a.mark((function e(t){var r,a,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(b,"/login"),n);case 3:(r=e.sent).data&&(localStorage.setItem("token",r.data.token),localStorage.setItem("userName",r.data.username),localStorage.setItem("expirationDate",r.data.expirationDate),a=r.data.token,c=a.token,i=a.username,t(X({token:c,username:i})),t(M(new Date(r.data.expirationDate).getTime()-(new Date).getTime()))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t=Object(r.useState)({isFormValid:!1,message:null,formSubmitted:!1,formControls:{username:{value:"",type:"text",name:"username",placeholder:"Your name...",errorMessage:"Username must be 4 or more symbols",valid:!1,validation:{minLength:4,required:!0}},password:{value:"",type:"password",name:"password",placeholder:"Your password",errorMessage:"Password must be 6 or more symbols",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}}),n=Object(B.a)(t,2),a=n[0],c=n[1],i=["creationform-message"];return"Registration is success!"===a.message?i.push("success"):i.push("error"),e.token?Object(o.jsx)(l.a,{to:"/"}):Object(o.jsx)("form",{className:"auth",method:"POST",action:"".concat(b,"/login"),onSubmit:function(t){return R(t,a,c,e.sendLoginForm)},children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{children:"LOGIN"}),J(a,c),Object(o.jsxs)("div",{className:"auth-buttons",children:[Object(o.jsx)("button",{className:"button",children:"SUBMIT"}),Object(o.jsx)(s.b,{to:"/registration",children:Object(o.jsx)("button",{className:"button",type:"submit",children:"REGISTRATION"})})]}),Object(o.jsx)("div",{className:i.join(" "),children:a.message})]})})})),z=function(){return Object(o.jsx)(Y,{})};var Z=Object(O.b)((function(e){return{regPreventedInfo:e.auth.regPreventedInfo}}),(function(e){return{sendRegistrationForm:function(t){return e((n=t,function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(b,"/registration"),n);case 3:r=e.sent,Object.keys(r.data)?t(W(r.data)):t(W(null)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));var n},changeRegStatus:function(t){return e(W(t))}}}))((function(e){var t=Object(r.useState)({isFormValid:!1,message:null,formSubmitted:!1,formControls:{username:{value:"",type:"text",name:"username",placeholder:"Your name...",errorMessage:"Username must be 4 or more symbols",valid:!1,validation:{minLength:4,required:!0}},email:{value:"",type:"email",name:"email",placeholder:"Your email...",errorMessage:"Email is not correct",valid:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",name:"password",placeholder:"Your password",errorMessage:"Password must be 6 or more symbols",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}}),n=Object(B.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){if(a.formSubmitted)if(e.regPreventedInfo){var t=Object.entries(e.regPreventedInfo);c(Object(P.a)(Object(P.a)({},a),{},{message:"".concat(t[0][0]," ").concat(t[0][1]," is already exists"),formSubmitted:!1}))}else c(Object(P.a)(Object(P.a)({},a),{},{message:"Registration is success!",formSubmitted:!1}))}),[e.regPreventedInfo]);var i=["creationform-message"];return"Registration is success!"===a.message?i.push("success"):i.push("error"),Object(o.jsx)("form",{className:"auth",method:"POST",action:"".concat(b,"/registration"),onSubmit:function(t){return R(t,a,c,e.sendRegistrationForm)},children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{children:"REGISTRATION"}),J(a,c),Object(o.jsxs)("div",{className:"auth-buttons",children:[Object(o.jsx)("button",{className:"button",children:"SUBMIT"}),Object(o.jsx)(s.b,{to:"/login",children:Object(o.jsx)("button",{type:"submit",className:"button",children:"LOGIN"})})]}),Object(o.jsx)("div",{className:i.join(" "),children:a.message})]})})})),H=function(){return Object(o.jsx)(Z,{})},K=n(13);var q=Object(O.b)((function(e){return{cardsInfo:e.cards.cardsInfo,editItemId:e.cards.editItemId}}),(function(e){return{postCardInfo:function(t){return e(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("".concat(b,"/addcard"),e);case 3:n(S()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.warn(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},editCard:function(t){return e(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.put("".concat(b,"/editcard"),e);case 3:n(S()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.warn(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setEditItem:function(t){return e(k(t))}}}))((function(e){var t=Object(r.useState)({isFileChosen:!1,formSubmitted:!1,message:null,isTouched:!1}),n=Object(B.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)({nameValue:"",descriptionValue:"",priceValue:""}),s=Object(B.a)(i,2),u=s[0],d=s[1],l=function(e,t){c(Object(P.a)(Object(P.a)({},a),{},{message:null,formSubmitted:!1,isTouched:!0})),d(Object(P.a)(Object(P.a)({},u),{},Object(K.a)({},t,e.target.value.trim())))},m=function(e,t,n,r){return!(e.length<n)||(r(Object(P.a)(Object(P.a)({},a),{},{message:"".concat(t," cannot be less than ").concat(n," letters"),formSubmitted:!1})),!1)},j=function(){var t=e.cardsInfo.find((function(t){return t.id===e.cardId})),n=t.name,r=t.description,c=t.price;return u.nameValue===n&&u.descriptionValue===r&&u.priceValue===c&&!a.isFileChosen},f=["creationform-message"];return a.formSubmitted?f.push("success"):f.push("error"),e.isEditForm&&!a.isTouched&&function(){var t=e.cardsInfo.find((function(t){return t.id===e.cardId})),n=t.name,r=t.description,i=t.price;c(Object(P.a)(Object(P.a)({},a),{},{isTouched:!0})),d({nameValue:n,priceValue:i,descriptionValue:r})}(),Object(o.jsxs)("form",{className:"content-admin-creationform",method:"POST",action:"".concat(b,"/addcard"),encType:"multipart/form-data",style:e.isEditForm?{marginLeft:0}:{},onSubmit:function(t){if(t.preventDefault(),e.isEditForm||a.isFileChosen){var n=m(u.nameValue,"Name",1,c),r=m(u.descriptionValue,"Description",1,c),i=m(u.priceValue,"Price",1,c);if(n&&r&&i){var s=new FormData(t.target);if(e.isEditForm)!j()&&e.editCard(s);else e.postCardInfo(s);e.setEditItem(null),t.target.reset(),c(Object(P.a)(Object(P.a)({},a),{},{isFileChosen:!1,formSubmitted:!0,message:"Form has been submitted"})),d({nameValue:"",priceValue:"",descriptionValue:""})}}else c(Object(P.a)(Object(P.a)({},a),{},{message:"Need to download image",formSubmitted:!1}))},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"creationform-productName",children:"Name product"}),Object(o.jsx)("input",{name:"name",onChange:function(e){return l(e,"nameValue")},type:"text",id:"creationform-productName",maxLength:"30",value:u.nameValue})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"creationform-description",children:"Description"}),Object(o.jsx)("input",{name:"description",onChange:function(e){return l(e,"descriptionValue")},type:"text",id:"creationform-description",maxLength:"100",value:u.descriptionValue})]}),Object(o.jsxs)("div",{className:"creationform-footer",children:[Object(o.jsxs)("div",{className:"creationform-footer-input",children:[Object(o.jsx)("label",{htmlFor:"creationform-price",children:"Price"}),Object(o.jsx)("input",{name:"price",onChange:function(e){return l(e,"priceValue")},type:"text",id:"creationform-price",maxLength:"30",value:u.priceValue})]}),Object(o.jsxs)("div",{className:"creationform-file",children:[Object(o.jsx)("div",{children:"Add image:"}),Object(o.jsx)("label",{htmlFor:"creationform-file",children:a.isFileChosen?"File added":"Add file"}),Object(o.jsx)("input",{name:"image",onChange:function(e){e.target.files.length>0&&c(Object(P.a)(Object(P.a)({},a),{},{isFileChosen:!0,formSubmitted:!1,isTouched:!0}))},type:"file",id:"creationform-file",accept:"image/jpeg,image/png"}),e.isEditForm?Object(o.jsx)("input",{type:"text",name:"id",value:e.cardId,id:"creationform-id",readOnly:!0}):null]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"button",type:"submit",children:e.isEditForm?"EDIT PRODUCT":"ADD PRODUCT"})})]}),Object(o.jsx)("div",{className:f.join(" "),children:a.message})]})}));var Q=Object(O.b)((function(e){return{editItemId:e.cards.editItemId}}),(function(e){return{deleteCard:function(t){return e(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.delete("".concat(b,"/removecard"),{data:e});case 3:n(S()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.warn(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},setEditItem:function(t){return e(k(t))}}}))((function(e){var t=Object(o.jsxs)("div",{className:"editform-card",children:[Object(o.jsx)("div",{className:"editform-card-icon",children:Object(o.jsx)("img",{src:"".concat(b,"/images/").concat(e.image),alt:"img"})}),Object(o.jsxs)("div",{className:"editform-card-content",children:[Object(o.jsx)("p",{children:e.name}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"editform-card-edit",onClick:function(){e.setEditItem(e.id)},children:"Edit"}),Object(o.jsx)("span",{className:"editform-card-delete",onClick:function(){e.deleteCard({id:e.id,image:e.image})},children:"Delete"})]})]})]});return e.editItemId===e.id&&(t=Object(o.jsx)(q,{isEditForm:!0,cardId:e.id})),t}));var _=Object(O.b)((function(e){return{cardsInfo:e.cards.cardsInfo}}),(function(e){return{getCardsInfo:function(){return e(S())}}}))((function(e){Object(r.useEffect)((function(){e.cardsInfo||e.getCardsInfo()}),[]);var t=null;return e.cardsInfo&&(t=Object(j.a)(e.cardsInfo).map((function(e,t){return Object(o.jsx)(Q,{name:e.name,image:e.picture,id:e.id},t)}))),Object(o.jsx)("div",{className:"content-admin-editform",children:t})}));var $=Object(O.b)((function(e){return{token:e.auth.token,username:e.auth.username}}),null)((function(e){return console.log(e),Object(o.jsx)("div",{className:"content-admin",children:"administrator"===e.username&&e.token?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsx)(s.b,{to:"/products/create",children:"NEW PRODUCT"}),Object(o.jsx)(s.b,{to:"/products/edit",children:"MY PRODUCTS"})]}),Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/products/create",component:q}),Object(o.jsx)(l.b,{path:"/products/edit",component:_}),Object(o.jsx)(l.b,{path:"/products",render:function(){return Object(o.jsx)(D,{isLimited:!1})}})]})]}):Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"sidebar"}),Object(o.jsx)(l.d,{children:Object(o.jsx)(D,{isLimited:!1})})]})})}));var ee=Object(O.b)(null,(function(e){return{logout:function(){return e(G())}}}))((function(e){return Object(r.useEffect)((function(){e.logout()})),Object(o.jsx)(l.a,{to:"/"})}));var te=Object(O.b)((function(e){return{token:e.auth.token,username:e.auth.username}}),(function(e){return{autoLogin:function(){return e((function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userName");if(t){var r=new Date(localStorage.getItem("expirationDate"));r<=new Date?e(G()):(e(X({token:t,username:n})),e(M(r.getTime()-(new Date).getTime())))}else e(G())}))}}}))((function(e){return Object(r.useEffect)((function(){e.autoLogin()})),Object(o.jsxs)("div",{className:"layout",children:[Object(o.jsx)(F,{username:e.username,isLogin:!!e.token}),Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/products",component:$}),Object(o.jsx)(l.b,{path:"/about",component:E}),Object(o.jsx)(l.b,{path:"/login",component:z}),Object(o.jsx)(l.b,{path:"/registration",component:H}),Object(o.jsx)(l.b,{path:"/logout",component:ee}),Object(o.jsx)(l.b,{path:"/",exact:!0,component:C}),Object(o.jsx)(l.a,{to:"/"})]}),Object(o.jsx)(d,{})]})}));var ne,re,ae=function(){return Object(o.jsx)(te,{})},ce=n(18),ie=n(39),se={cardsInfo:null,editItemId:null},oe=(ne={DEFAULT:function(e){return e}},Object(K.a)(ne,A,(function(e,t){return Object(P.a)(Object(P.a)({},e),{},{cardsInfo:t.payload})})),Object(K.a)(ne,N,(function(e,t){return Object(P.a)(Object(P.a)({},e),{},{editItemId:t.payload})})),ne),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=oe[t.type]||oe.DEFAULT;return n(e,t)},de={regPreventedInfo:null,token:null,username:null},le=(re={DEFAULT:function(e){return e}},Object(K.a)(re,I,(function(e,t){return Object(P.a)(Object(P.a)({},e),{},{regPreventedInfo:t.payload})})),Object(K.a)(re,w,(function(e,t){return Object(P.a)(Object(P.a)({},e),{},{token:t.token,username:t.username})})),Object(K.a)(re,T,(function(e){return Object(P.a)(Object(P.a)({},e),{},{token:null,username:null})})),re),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=le[t.type]||le.DEFAULT;return n(e,t)},je=Object(ce.b)({cards:ue,auth:me}),be="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ce.c,fe=Object(ce.d)(je,be(Object(ce.a)(ie.a)));i.a.render(Object(o.jsx)(O.a,{store:fe,children:Object(o.jsx)(s.a,{children:Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(ae,{})})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.e4839973.chunk.js.map